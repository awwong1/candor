<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "en-us" }}">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>{{ .Title }}</title>
  {{ with .Site.Params.description }}<meta name="description" content="{{ . }}">{{ end }}
  {{ with .Page.Params.description }}<meta name="description" content="{{ . }}">{{ end }}
  {{ with .Site.Params.author }}<meta name="author" content="{{ . }}">{{ end }}
  <!-- SCSS Style assets -->
  {{ $scssOpts := (dict "outputStyle" "compressed" "enableSourceMap" true) }}
  {{ $styles := resources.Get "sass/main.scss" | resources.ToCSS $scssOpts | fingerprint }}
  <link rel="stylesheet" href="{{ $styles.Permalink }}" integrity="{{ $styles.Data.Integrity }}">
  <!-- JavaScript assets -->
  {{ $appJs := resources.Get "js/main.js" }}
  {{ $mathJs := resources.Get "js/mathjax-tex-svg.js" }}
  {{ $js := slice $appJs $mathJs | resources.Concat "js/bundle.js" | minify | fingerprint }}
  <script type="text/javascript" src="{{ $js.Permalink }}" integrity="{{ $js.Data.Integrity }}" defer async></script>
  <!-- RSS -->
  {{ with .OutputFormats.Get "RSS" -}}
    {{ printf `<link rel="%s" type="%s" href="%s" title="%s">` .Rel .MediaType.Type .RelPermalink $.Site.Title | safeHTML }}
  {{- end }}
</head>

<body>
  {{ block "main" . }}{{ end }}
  {{ partial "footer" . }}
</body>

</html>